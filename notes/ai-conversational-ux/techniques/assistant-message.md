# アシスタントのメッセージ

アプリケーションの結果として、アシスタントのメッセージを出力する場合には、ユーザー体験においてそれが最も大切になります。
もしアシスタントのメッセージのレイテンシが何秒もあれば、ユーザーの体験は大きく損なわれるはずです。

## Stream 受信による低レイテンシの実現

ChatGPT の API を利用する場合には、基本的にレスポンスを Stream 受信するようにしてください。
これは、返答の全てが完成してからレスポンスを返すのではなく、返答が 1 文字ずつ返信されるようにする方法です。

詳しい実装方法については、以下ような技術ブログなどを参照してください。

[Using the ChatGPT streaming API from Python | Simon Willison’s TILs](https://til.simonwillison.net/gpt3/python-chatgpt-streaming-api)

## フォーマット

例えば、ChatGPT はプレーンテキストだけではなく、以下のようなテキストフォーマットを出力することができます。

- JSON
- CSV
- XML
- YAML
- TOML
- LaTeX
- MathML
- Markdown
- HTML
- CSS
- SVG
- 各種ある程度有名なプログラミング言語

これらのうち、アプリケーションで扱いたいフォーマットについては正しく表示できるように対応してください。

例えば、Markdown を表示したい場合は、アシスタントのメッセージをパースして HTML に変換するプログラムを利用してください。
